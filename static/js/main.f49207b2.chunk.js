(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t){e.exports={API_KEY:"WWPrS8ckWBqDzMx1jsEfvLvhDOEn0Lbw"}},function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(17),n(6)),s=n.n(c),l=n(9),u=n(1),p=n(2),d=n(4),m=n(3),v=n(5),h=(n(20),n(21),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).createObserver=function(){new IntersectionObserver(n.handleIntersect,{root:null,rootMargin:"0px",threshold:.9}).observe(n.$video)},n.handleIntersect=function(e,t){return e.map(function(e){if(4===n.$video.readyState)try{e.intersectionRatio>n.state.prevRatio?n.$video.play():n.$video.pause(),n.setState({prevRatio:e.intersectionRatio})}catch(t){console.log("ERROR: ".concat(t))}return null}),null},n.state={prevRatio:0},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.createObserver()}},{key:"render",value:function(){var e=this,t=this.props.videoURL;return r.a.createElement("video",{ref:function(t){e.$video=t},className:"Video",loop:!0,muted:!0,autoPlay:!0},r.a.createElement("source",{type:"video/mp4",src:t}))}}]),t}(a.Component)),f=n(10),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).renderVideos=function(){var e=[];return n.state.gifs.map(function(t){return e.push(r.a.createElement(h,{key:t.id,videoURL:t.images.original_mp4.mp4})),null}),e},n.state={gifs:[]},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/trending?api_key=".concat(f.API_KEY,"&limit=10")).then(function(e){return e.json()}).then(function(e){t.setState({gifs:e.data})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"App-title"},"Interaction Observer API Experiments")),r.a.createElement("div",{className:"App-description"},r.a.createElement("p",null,"Simple implementation of the Javascript Interaction Observer API to control video element playback based on each elements visibility"),r.a.createElement("p",null,"The top 10 trending GIFs are pulled as mp4s from GIPHY")),r.a.createElement("div",{className:"App-videos"},this.state.gifs?this.renderVideos():null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.f49207b2.chunk.js.map